## 属性动画

### 目录
![](https://upload-images.jianshu.io/upload_images/944365-683ffe3c42859b7a.png?imageMogr2/auto-orient/strip|imageView2/2/w/1034/format/webp)

### 1. 出现的意义
Android一开始提供了视图动画，即补间动画跟逐帧动画。但视图动画存在三个问题：
![](https://upload-images.jianshu.io/upload_images/944365-2b2221763e763182.png?imageMogr2/auto-orient/strip|imageView2/2/w/540/format/webp)

为了弥补视图动画的缺陷，于是Android在3.0(API 11)开始提供了一种全新的动画模式：属性动画(Property Animation)。

### 2. 简介
- 作用对象：任意 Java 对象，即不再局限于 视图View对象
- 动画效果：可自定义各种动画效果，即不再局限于4种基本变换：平移、旋转、缩放 & 透明度


### 3. 特点
- 作用对象进行了扩展：不只是View对象，甚至没对象也可以
- 动画效果：不只是4种基本变换，还有其他动画效果
- 作用领域：API11后引入的


### 4. 工作原理
在一定时间间隔内，通过不断对值进行改变、不断将该值赋给对象的属性(任意对象的任意属性)，从而实现该对象在该属性上的动画效果。整个工作原理的流程如下：
![](https://upload-images.jianshu.io/upload_images/944365-9198e253d05f213c.png?imageMogr2/auto-orient/strip|imageView2/2/w/470/format/webp)


从上述工作原理可以看出属性动画中有两个非常重要的使用类：ValueAnimator 类 & ObjectAnimator 类。所以，在下面介绍属性动画的具体使用时，我会着重介绍这两个类。

### 5. 具体使用
对于属性动画的使用，主要是：

1. 两个使用方法类：ValueAnimator 类 & ObjectAnimator 类
2. 两个辅助使用类：插值器 & 估值器
下面将详细介绍

#### 5.1 ValueAnimator类
定义：属性动画机制中 最核心的一个类
实现动画的原理：通过不断控制 值 的变化，再不断 手动 赋给对象的属性，从而实现动画效果。如图下：
![](https://upload-images.jianshu.io/upload_images/944365-d74ed6378954939b.png?imageMogr2/auto-orient/strip|imageView2/2/w/1200/format/webp)

从上面原理可以看出：ValueAnimator类中有3个重要方法：

1. ValueAnimator.ofInt（int values）
2. ValueAnimator.ofFloat（float values）
3. ValueAnimator.ofObject（int values）
......
具体使用请看文章：[属性动画的核心使用类ValueAnimator学习指南请收好！](https://www.jianshu.com/p/7c95342f4bc2)


#### 5.2 ObjectAnimator类

##### 5.2.1 实现动画的原理

直接对对象的属性值进行改变操作，从而实现动画效果

>1. 如直接改变 View的 alpha 属性 从而实现透明度的动画效果
>2. 继承自ValueAnimator类，即底层的动画实现机制是基于ValueAnimator类

- 本质原理： 通过不断控制 值 的变化，再不断 自动 赋给对象的属性，从而实现动画效果。如下图：
![](https://upload-images.jianshu.io/upload_images/944365-36c8b1b8066b0623.png?imageMogr2/auto-orient/strip|imageView2/2/w/1200/format/webp)

从上面的工作原理可以看出：ObjectAnimator与 ValueAnimator类的区别：

- ValueAnimator 类是先改变值，然后 **手动赋值** 给对象的属性从而实现动画；是 **间接** 对对象属性进行操作；
- ObjectAnimator 类是先改变值，然后 **自动赋值** 给对象的属性从而实现动画；是 **直接** 对对象属性进行操作；
[ObjectAnimator类学习指南](https://www.jianshu.com/p/7c95342f4bc2)


#### 5.3 ValueAnimator类 & ObjectAnimator 类的区别
- 对比ValueAnimator类 & ObjectAnimator 类，其实二者都属于属性动画，本质上都是一致的：先改变值，然后 赋值 给对象的属性从而实现动画效果。
- 但二者的区别在于：
    - `ValueAnimator` 类是先改变值，然后 **手动赋值** 给对象的属性从而实现动画；是 **间接** 对对象属性进行操作；
    >`ValueAnimator` 类本质上是一种 改变 值 的操作机制

    - `ObjectAnimator`类是先改变值，然后 **自动赋值** 给对象的属性从而实现动画；是 **直接** 对对象属性进行操作；

    >可以理解为：`ObjectAnimator`更加智能、自动化程度更高

#### 5.4 插值器
![](https://upload-images.jianshu.io/upload_images/944365-90e41bd963ae9362.png?imageMogr2/auto-orient/strip|imageView2/2/w/1200/format/webp)
更加具体介绍请看文章：[Android：手把手带你深入了解神秘的估值器（TypeEvaluator）](https://www.jianshu.com/p/ab5785f017b2)

#### 5.5 估值器
![](https://upload-images.jianshu.io/upload_images/944365-dacfd31b2a0a7b07.png?imageMogr2/auto-orient/strip|imageView2/2/w/1200/format/webp)
更加具体介绍请看文章：[Android 动画：手把手带你深入了解神秘的插值器（Interpolator）](https://www.jianshu.com/p/2f19fe1e3ca1)

#### 5.6 插值器与估值器的区别
估值器和插值器很多人容易混淆，具体区别如下：

![](https://upload-images.jianshu.io/upload_images/944365-b753525db783e039.png?imageMogr2/auto-orient/strip|imageView2/2/w/1140/format/webp)

### 6. 使用小技巧
对于属性动画的使用小技巧包括：

- 组合动画
- 快捷使用动画
- 监听动画
- 动画适配器
具体请看文章：Android 动画：这些属性动画的使用小技巧你了解吗

至此，Android 动画中的属性动画的所有知识点都讲解完毕。

7. 总结
属性动画的本质原理：通过不断对值进行改变，并不断将该值赋给对象的属性，从而实现该对象在该属性上的动画效果；具体工作原理逻辑如下：
![](https://upload-images.jianshu.io/upload_images/944365-16a162a731f548d8.png?imageMogr2/auto-orient/strip|imageView2/2/w/1200/format/webp)

属性动画的使用主要有以下类，具体如下：
![](https://upload-images.jianshu.io/upload_images/944365-e75e328f7e3fab59.png?imageMogr2/auto-orient/strip|imageView2/2/w/720/format/webp)


本文章用于自身学习,原文章
```yml
作者：Carson带你学安卓
链接：https://www.jianshu.com/p/2412d00a0ce4
来源：简书
```